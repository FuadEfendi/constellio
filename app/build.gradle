apply from: 'http://plugins.jasoft.fi/vaadin.plugin?version=0.9.7'

vaadin {
    version '7.3.9'
    addon.title = "constellio"

    widgetset 'com.constellio.app.ui.application.widgetset.AppWidgetset'
    manageWidgetset true

    debug true
    debugPort 8000
    profiler true

    manageRepositories = true
    manageDependencies true

    serverPort 8080

    jvmArgs()

    //mainSourceSet sourceSets.main.allJava

    vaadin.plugin.themesDirectory 'VAADIN/themes/constellio'
    vaadin.plugin.themeAutoRecompile true
    vaadin.plugin.useClassPathJar false
}

dependencies {
    compile project(":data")
    compile project(":model")

    compile "com.cybozu.labs:langdetect:1.1-20120112"
    compile "org.glassfish:javax.json:1.0.4"
    compile "org.glassfish.jersey.media:jersey-media-json-jackson:2.13"
    compile "org.glassfish.jersey.containers:jersey-container-servlet:2.13"
    compile "javax.ws.rs:javax.ws.rs-api:2.0.1"
    compile "org.apache.chemistry.opencmis:chemistry-opencmis-server-bindings:0.12.0"
    compile "org.apache.chemistry.opencmis:chemistry-opencmis-server-support:0.12.0"
    compile "org.jdom:jdom:2.0.2"
    compile "org.apache.poi:poi-ooxml:3.10-FINAL"
    compile "org.apache.poi:poi:3.10-FINAL"
    compile "jspf:jspf.core:1.0.2"
    compile "com.vaadin:vaadin-shared:7.3.9"
    compile "com.vaadin:vaadin-client:7.3.9"
    compile "com.vaadin:vaadin-server:7.3.9"
    compile "com.vaadin:vaadin-themes:7.3.9"
    compile "com.vaadin:vaadin-client-compiled:7.3.9"
    compile "com.vaadin:vaadin-client-compiler:7.3.9"
    compile "com.vaadin:vaadin-themes:7.3.9"
    compile "com.vaadin:vaadin-sass-compiler:0.9.11"
    compile "javax.servlet:javax.servlet-api:3.1.0"
    compile "org.vaadin.addons:actionbuttontextfield:1.0.2"
    compile "org.vaadin.addons:googleanalyticstracker:2.1.0"
    compile "org.vaadin.addon:confirmdialog:2.1.2"
    compile "org.peimari:maddon:1.20"
    compile "commons-io:commons-io:2.4"
    compile "org.apache.solr:solr-solrj:5.0.0"
    compile "org.apache.solr:solr-core:5.0.0"
    compile "org.apache.commons:commons-lang3:3.0"
    compile "org.jboss.spec.javax.servlet:jboss-servlet-api_3.0_spec:1.0.2.Final"
    compile "commons-beanutils:commons-beanutils:1.9.2"
    compile "org.vaadin.addons.lazyquerycontainer:vaadin-lazyquerycontainer:7.3.3.6"
    compile "javax.validation:validation-api:1.1.0.Final";
    compile "org.vaadin.addons:pagedtable:0.6.5"
    compile "org.vaadin.addon:easyuploads:7.3.4"
    compile "org.vaadin.addons:animator:2.0.0"
    compile "org.vaadin.addons:dom:0.1.0"
    compile "org.vaadin.addons:listbuilder:0.7.3.v7"
    compile "org.vaadin.addons:contextmenu:4.5"
}

war {
    baseName = "constellio-app"
    version = "5.0.0"

    webInf {
        from 'WebContent/'
    }

    webAppDirName = 'src/main/webapp/'
}

sourceSets {
    main {
        java {
            srcDir 'src/'
        }
    }
}

eclipse {
    project {
        name = 'app'
        buildCommand 'compileJava'
    }
}


jar {
    from sourceSets.main.allJava
    baseName = 'core-app'
    version = '5.0.5'
}
